version: 2

sources:
  - name: raw_bi_car
    database: DATABOOSTERS
    schema: PUBLIC
    tables:
      - name: CAR_SALES
        description: "Tabla de ventas de BBDD transaccional"
        columns:
          - name: DDATE
            description: "Fecha venta del coche"
          - name: SALESPERSON
            description: "Nombre del vendedor del coche"
            tests:
              - not_null
          - name: CUSTOMERNAME
            description: "Nombre del cliente que compró el coche"
          - name: CARMAKE
            description: "Marca del coche"
          - name: CARMODEL
            description: "Modelo del coche"
          - name: CARYEAR
            description: "Año modelo coche"
          - name: SALEPRICE
            description: "Precio del coche"
          - name: COMMISSIONRATE
            description: "% comisión del vendedor"
          - name: COMMISSIONEARNED
            description: "Valor de la comisión del vendedor"

     #tabla para snapshot
      - name: SALESPERSON
        description: 'tabla de vendedores'
        columns:
          - name: SALESPERSON_ID
            description: 'id único y clave primaria'
          - name: SALESPERSON_NAME
            description: 'nombre vendedor, no nulo'
          - name: COMMISSION_RATE
            description: tasa de comision, dos decimales (999,99)
          - name: store_id
            description: id de la tienda asociada
          - name: STATUS
            description: 'estado: activo/inactivo'
          - name: LAST_UPDATE_TS
            description: 'marca de tiempo última actualización (sin zona horaria)'
      - name: MARKETING_PIVOTED_PERFORMANCE
        description: 'Tabla de marketing'
        columns:
          - name: CAMPAIGN_ID
            description: 'Identificador de campaña'
          - name: REPORT_DATE
            description: 'Fecha del informe'
          - name: CHANNEL_NAME
            description: 'Nombre canal'
          - name: METRIC_NAME
            description: 'Nombre de la métrica'
          - name: METRIC_VALUE
            description: 'Valor métrica'
      - name: REGIONAL_SALES_APAC
        description: 'Ventas regionales APAC'
        columns:
          - name: ORDER_ID
          - name: ORDER_DATE
          - name: CUSTOMER_ID
          - name: PRODUCT_ID
          - name: QUANTITY
          - name: UNIT_PRICE
          - name: TOTAL_AMOUNT
          - name: COUNTRY_CODE_NA
          - name: IMPORT_DUTY_APAC
      - name: REGIONAL_SALES_EU
        description: 'Ventas regionales EU'
        columns:
          - name: ORDER_ID
          - name: ORDER_DATE
          - name: CUSTOMER_ID
          - name: PRODUCT_ID
          - name: QUANTITY
          - name: UNIT_PRICE
          - name: TOTAL_AMOUNT
          - name: COUNTRY_CODE_NA
          - name: SALES_TAX_RATE_NA
      - name: REGIONAL_SALES_NA
        description: 'Ventas regionales NA'
        columns:
          - name: ORDER_ID
          - name: ORDER_DATE
          - name: CUSTOMER_ID
          - name: PRODUCT_ID
          - name: QUANTITY
          - name: UNIT_PRICE
          - name: TOTAL_AMOUNT
          - name: COUNTRY_CODE_NA
          - name: SALES_TAX_RATE_NA

